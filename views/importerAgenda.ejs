<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title> Importer </title>
    </head>

    <body>
        <script>    
            // fonction qui permet d'ouvrir l'explorateur de fichier
            // return : Promise
            async function getFile() {
                const [fileHandle] = await window.showOpenFilePicker();
                const file = await fileHandle.getFile();
                return file; 
            }
            
            // on ajoute l'ecouteur sur le bouton quand le DOM est lodaed
            document.addEventListener('DOMContentLoaded', () => {
                 document.getElementById('fileButton1')
                    .addEventListener('click', () => {
                        console.log('clicked');
                        getFile()
                            .then( file => console.log(file))
                            .catch( err => console.error(err));
                    });
                });            
        </script>
        <div>
            Sur cette page, vous pouvez importer un fichier agenda.
            Ce fichier doit uniquement avoir été déporté/créé par notre page de déportation. 
        </div> 
        <div>
            <button id="fileButton1" name="fileButton1"> Importer </button>
        </div>        
    </body>
</html>
